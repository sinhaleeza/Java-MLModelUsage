Service oriented computing is being increasingly exploited in the architecture of current web applications. The interactions among the deployed web services are becoming vital to accomplish heterogeneous and compound business goals. Service selection and composition are two common tasks which are highly influenced by the quality of these interactions. Thus, assigning web services QoS-based trust scores that are incrementally updated, provides a means to assist both tasks. Then, services with higher trust scores are more likely to be selected than those with smaller ones. They are, additionally, more prone to be incorporated as part of composite services. In this paper, we propose a probabilistic approach based on Bayesian networks (BN) to learn the composition structure of composite services and compute QoS-based trust scores in an online setting. The learning of the BN structure and parameters is based on modeling the QoS, which is represented by the BN's variables, using a multinomial generalized Dirichlet distribution (MGDD). The effectiveness of our approaches is empirically assessed using real and synthetic data. Our experimental results show that MGDD provides a flexible and accurate representation of the QoS. They also prove the capability of the BN approach to learn the composition structure, and further the responsibility of the constituent services in the quality of the composite service even when their QoS is partially observed.