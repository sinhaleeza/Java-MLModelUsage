Significant consumption and cost savings can be made by better managing energy usage within small commercial properties and individual dwellings. By combining Web services and off-the-shelf home automation equipment, it is now possible to build a cost-effective infrastructure to support the delivery of energy management services to small consumers. In this paper we treat residential energy management as a resource management problem in a distributed computing system. Energy consumers are able to delegate the energy management of smart-meter connected appliances to these energy service providers and specify their energy consumption preference through access policies. We give an optimal scenario in terms of energy cost and efficiency in this service model. We also design an algorithm that makes use of aggregated user information to achieve near optimal energy use among residential electricity users.