When deploying a service, software systems required by the service should be configured correctly. However, since software has tens or hundreds of configuration parameters and the parameters of different software may have simple or complex, explicit or implicit dependencies and constraints, to configure multiple software systems in service deployment becomes a difficult, error-prone and time-consuming task. In this paper, we propose a model based approach to automated configuration. Motivated by two real cases found in IBM software products and solutions, our approach has three contributions. Firstly, a meta-model of configuration, called software resource configuration model, is defined for integrating configuration parameters and experiences of different software into a global model. Secondly, a set of configuration rules are designed for verifying incorrect configuration that violates constraints specified by service deployment engineers. Thirdly, a supporting tool, called Comfort, is implemented and evaluated by the motivating cases