With more and more Web services flooded on the Internet, the scale of Web services and complexity of connections among them are growing rapidly. This phenomenon has brought great challenges to service selection. Due to the huge search space, existing research approaches are hardly feasible in dynamic real-time scenarios under a stringent time limit with a large number of potential Web services involved. In order to deal with this problem, the focus of this paper is to improve the efficiency of QoS-aware web service selection in real-time considering a priori knowledge from historical log, which can reduce the search space effectively. We first analyse and discover the distribution of customer requests to identify request clusters, and we mine valuable fragments or service patterns from historical service solutions. Then, we build a probability matrix to improve the efficiency of service selection algorithm, which contains the request-solution mapping relationships between request clusters and service patterns based on statistical method. A series of experiments using both real and synthetic data demonstrate that our approach improves Global Planning optimisation algorithm (GP) and Artificial Bee Colony algorithm (ABC) by 36.20% and 41.98% respectively.