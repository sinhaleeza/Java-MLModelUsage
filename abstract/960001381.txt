As the green house gas emission becomes a serious problem, a lot of researches now focus on how to monitor and manage carbon footprint (CF) of a production process or transportation, especially in the supply chain. Usually, most of the carbon footprint management systems are based on databases. But database is not sufficient in describing the production and transportation processes and the facilities used in these processes. In this paper, we develop an SOA based model for the carbon footprint management and labeling (CFML), using ontology and OWL-S techniques. We use OWL-S to describe the processes and workflows for production and transportation and extend it to specify the methods for deriving CF of them. We use the existing energy conversion formula to derive the CF when the energy data can be collected separately. We also derive an approach to separate the CFs when data of different processes have to be collected together. In a supply chain, a production company may have different choices of suppliers to provide certain components. To balance the tradeoff between carbon dioxide emission and cost of the overall production process, we design a supplier selection algorithm to derive the optimal solution.