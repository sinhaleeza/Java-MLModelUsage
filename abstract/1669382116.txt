This paper proposes a model driven approach whereby a composite service specification is generated automatically from a simple declarative definition. It is based on three concepts: services, virtual enterprises and business rules. Using an e-travel application as a running example we explain in detail the steps of the generation process. Particularly, we show how business rules can be used for creating on the fly the control flow relating the services constituting the composite service