As there are various risks of failure when Web Services are deployed in unreliable environment, the execution of a composite service requires the assurance of the transaction mechanism. However, existing QoS-aware composition approaches do not consider the transactional constraints during service selection. We address this issue by considering the combination of transactional and QoS requirements. Firstly, the novel construction and processing rules are proposed to guarantee the atomic consistency of the composite service and the correctness of these rules is proved subsequently. Then, on basis of these rules, an Ant Colony System based service selection algorithm is presented to guarantee the end-to-end QoS constraints on the premise of ensuring the atomic consistency during service selection. Therein, an optimization strategy is suggested to shrink the searching space of the algorithm tremendously. Finally, experimental results show the efficiency and effectiveness of the algorithm and demonstrate further the correctness of the construction and processing rules through simulations.