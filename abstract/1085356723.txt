Service-Oriented Computing (SOC) is a wide and complex research area. Despite the huge effort in both industrial and academics initiatives, several challenges need to be addressed in order to effectively realize the SOC vision. One of the most relevant issues is the need of effective, flexible, reliable, low cost solutions for dynamic service brokering and composition. This paper presents results of an ongoing work on the design and development of a service- and message-oriented middleware for atomic and composite service brokering, named SAI middleware. The SAI middleware offers a set of features for service brokering and dynamic composition, while also guaranteeing loose coupling between service providers and consumers and relaxing the prerequisites for service providers to publish their capabilities in an interoperability domain. SAI dynamic composition is based on an Artificial Intelligence planning approach and on the adoption of an ontology-based functional profile encoding information for enabling automatic information extraction and combination in the service composition chain. Our main contribution consists in addressing these issues in a holistic way, as required to effectively support the SOA vision in real application scenarios, while not optimizing single aspects yet.