For an IaaS cloud, the primary task is to satisfy users' demands for resources. Besides, administrators also have to deal with problems such as how to optimize allocation and utilization of resources at the data center level, how to guarantee the application's performance and scalability and how to cut the costs of maintenance and management. This paper focuses on the runtime optimization of IaaS private clouds. In such an environment, administrators usually have more autonomy and control over cloud resources and applications, which brings more space for optimization. In order to achieve appropriate resource allocation for virtual machines and improve utilization, this paper first proposes WarMops: a workload-aware method to optimize the resource configuration of virtual machines and an allocation scheme based on resource reservation and sharing, in an effort to arrive at the proper size of resources to meet the real needs of virtual machines. Integrating the methods mentioned above, this paper puts forward a systematic framework and modules for the runtime optimization of cloud resource management. This paper uses a mainstream benchmark application in this field - RUBiS to test the framework which, in turn, verifies the correctness and validity of the schemes.