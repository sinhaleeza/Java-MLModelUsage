The ShanghaiGrid is an ongoing grid computing environment (GCE) based on grid service standards and the open grid services architecture. The ShanghaiGrid is a City Grid, which is to provide a general shared information grid platform. Based on this point, a workflow management system is very import especially for user-defined workflow. By using the workflow, users in GCE would compose several grid services as a new service and provide it to others. This enlarges the extensibility and business-originated usage in the GCE. This paper discusses the type of workflow, proposes a model of client-side workflow management system, and the design of several important workflow services. A service discovery process based on workflow is also given.