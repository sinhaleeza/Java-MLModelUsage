With the number of services presented on the open Internet growing at an explosive speed, it subsequently brings great challenges to the accurate, efficient and automatic retrieval of target services for consumers. At present, many service matchmaking algorithms are proposed. However, most of them deem that a service is equal to a single functional unit or several separate units. In fact, a service may contain several functional units which are not separated from each other. Some implied relations may exist among the functional units so that they can be composed to provide new functions. This paper proposes a new service matchmaking algorithm that takes the composition of functional units within a service into consideration. This algorithm has been applied in a service composition framework called DartFlow. Our experimental data show that this novel service matchmaking outperforms others in terms of the recall rate and precision