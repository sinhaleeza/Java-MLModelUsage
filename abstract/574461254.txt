Along with the progress of the enterprise globalization, alliance and cooperation have become an important means for enterprises to improve their competitiveness in the market. Yet, most current methods for Service Composition Optimization (SCO) fail to address the Alliance Relation (AR) between services and assume that services are independent of each other. To address this issue, this paper presents an alliance-aware service composition method. Firstly, the fundamental properties of the AR are given based on a multi-granularity service composition model. Secondly, alliance relation granularity is coarsened into a relation granulation quotient space and the domain elements are matched reversely with service compositions, thereby reducing the complexity of query and computation of the AR. Finally, a Relation Granularity-aware Particle Swarm Optimization Algorithm (RG-PSO) is proposed based on relation granulation quotient space to solve the alliance-aware SCO prolem. Substantial experimental results show that the proposed model and algorithm are effective and efficient.