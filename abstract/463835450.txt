Today's Internet is shifting towards a larger and smarter scenario known as the Internet of Things (IoT). The IoT envisions a multitude of heterogeneous objects and interactions with physical environments. In this environment, locating desirable services is challenging due to the considerable diversity, large number, dynamic behavior, and geographical distribution of the services provided by physical objects. In this paper, we propose a context-aware semantics-based service discovery mechanism - LOCA that can effectively locate services based on the context requirements. The proposed discovery framework is built on a fully distributed peer-to-peer (P2P) architecture which is scalable and robust. Moreover, a key feature of the discovery mechanism is its support of content and path locality. This feature can enhance the integrity of an organization and thus greatly improve the security of the organization. The effectiveness of the proposed framework is demonstrated through comprehensive simulation studies.