With the fast development of Internet of Things (IoT), a large amount of services are being generated continuously by different business process applications hosted on edge devices. In order to facilitate seamless access and service life cycle management of large, distributed and heterogeneous IoT services, service computing and fog computing have been widely used as the promising technologies. However, an execution environment integrating IoT services into these two technologies is still an open research challenge. In this paper, we proposed a novel service-based fog execution environment to make the business process applications fit in the dynamic IoT service environment. The proposed IoT execution environment promises a full-life cycle management of the IoT services, a low latency response of the edge devices and a distributed execution of the business process applications. An actual running intelligent medical case is given to validate our proposed IoT execution environment.