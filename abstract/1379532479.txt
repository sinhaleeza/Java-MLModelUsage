In the field of service computing, user preferences and service quality may change with time, environment and other factors. A recommendation algorithm that considers both the dynamic characteristics of users and the dynamic quality of services (QoS) is proposed in this paper. On the one hand, this algorithm uses the temporal LDA (Latent Dirichlet Allocation) model to mine dynamic user preferences. On the other hand, it considers the dynamic changes of QoS and focuses on the latest QoS. The service recommendation list is then generated for the user based on dynamic user preferences and dynamic QoS. Experimental results on a real-world dataset show that the proposed algorithm outperforms some classic algorithms and the state-of-the-art algorithms in terms of accuracy, recall and diversity.